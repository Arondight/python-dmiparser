#!/usr/bin/env python3
import argparse

from dmiparser.wrapper import DmiDecoder

if "__main__" == __name__:
    parser = argparse.ArgumentParser(description='This parse dmidecode output to JSON text')
    parser.add_argument('-f', '--format', action='store_true', required=False, help='format JSON text')
    args = parser.parse_args()
    print(DmiDecoder(**({"sort_keys": True, "indent": 2} if args.format is True else {})).text)
